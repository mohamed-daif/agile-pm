version: "3.8"

services:
  test:
    build:
      context: .
      dockerfile: Dockerfile
    command: pytest tests/ -v --cov=agile_pm --cov-report=xml
    environment:
      - TESTING=true
      - JWT_SECRET=test-secret
    volumes:
      - ./tests:/app/tests
      - ./coverage:/app/coverage
